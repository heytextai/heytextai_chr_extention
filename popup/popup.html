<!DOCTYPE html>
<html>

<head>
    <title>HeyTextAI Options</title>
    <link rel="stylesheet" href="popup.css">
    <!-- Local styles only -->
</head>

<body>
    <h1>HeyTextAI</h1>

    <!-- Authentication Section -->
    <div class="auth-section">
        <div id="auth-status" class="auth-status">
            <div class="loading">Checking authentication...</div>
        </div>
        <div id="auth-container" class="auth-container" style="display: none;"></div>
        <div id="api-key-container" class="api-key-container" style="display: none;">
            <div class="api-key-form">
                <h2>Enter API Key</h2>
                <p>Enter your API key from the website user menu.</p>
                <div class="form-group">
                    <input type="password" id="api-key-input" placeholder="Paste your API key">
                    <button id="save-api-key" class="primary-button">Save API Key</button>
                </div>
                <p class="auth-note">Sign in to get 1000 requests per day.</p>
                <button id="back-to-anonymous" class="back-button">Continue as Guest</button>
            </div>
        </div>
        <div id="user-container" class="user-container" style="display: none;">
            <div class="user-info">
                <div id="user-email" class="user-email"></div>
                <button id="sign-out-button" class="sign-out-button">Sign Out</button>
            </div>
            <div class="usage-info">
                <div class="usage-header">
                    <span>Daily Usage</span>
                    <span id="usage-count">0/1000</span>
                </div>
                <div class="usage-bar-container">
                    <div id="usage-bar" class="usage-bar" style="width: 0%;"></div>
                </div>
                <div id="usage-reset" class="usage-reset">Resets at midnight</div>
            </div>
        </div>
        <div id="anonymous-container" class="anonymous-container" style="display: none;">
            <div class="anonymous-message">
                <p>Sign in to get 1000 requests per day</p>
                <p>Anonymous users are limited to 5 requests per day</p>
            </div>
            <div class="auth-buttons">
                <button id="sign-in-button" class="sign-in-button">Sign In</button>
                <button id="use-api-key-button" class="api-key-button">Use API Key</button>
            </div>
            <div class="usage-info">
                <div class="usage-header">
                    <span>Anonymous Usage</span>
                    <span id="anonymous-usage-count">0/5</span>
                </div>
                <div class="usage-bar-container">
                    <div id="anonymous-usage-bar" class="usage-bar" style="width: 0%;"></div>
                </div>
                <div id="anonymous-usage-reset" class="usage-reset">Resets at midnight</div>
            </div>
        </div>
    </div>

    <div class="option-section">
        <h2>Features</h2>
        <label class="option-toggle">
            <input type="checkbox" id="enableOverlay"> Enable Overlay Button
        </label>
    </div>

    <div class="option-section">
        <h2>Default Style</h2>
        <div class="mode-buttons" id="styleModes">
            <button class="mode-button" data-mode="standard">Standard</button>
            <button class="mode-button" data-mode="fluency">Fluency</button>
            <button class="mode-button" data-mode="humanize">Humanize</button>
            <button class="mode-button" data-mode="formal">Formal</button>
            <button class="mode-button" data-mode="academic">Academic</button>
            <button class="mode-button" data-mode="simple">Simple</button>
        </div>
    </div>

    <div class="option-section">
        <h2>Default Action</h2>
        <div class="mode-buttons" id="actionModes">
            <button class="mode-button" data-mode="improve">Improve</button>
            <button class="mode-button" data-mode="extend">Extend</button>
            <button class="mode-button" data-mode="shorten">Shorten</button>
        </div>
    </div>

    <!-- No external scripts - using local scripts only -->

    <!-- Load our scripts -->
    <script src="../lib/constants.js"></script>
    <script src="../lib/utilities.js"></script>
    <script src="../lib/supabase.js"></script>
    <script src="popup.js"></script>
</body>

</html>